define(["require","exports","tslib","react","classnames","dig-components/tooltips"],(function(t,e,r,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i=r.__importDefault(i),n=r.__importDefault(n);var a=(function(t){function n(e){var r=t.call(this,e)||this;return r.state={isTargetVisible:e.isPreview||!1,targetElement:null},r}return r.__extends(n,t),n.prototype.componentDidMount=function(){this.tooltipRef=i.default.createRef(),this.props.isPreview||this.updateTooltip()},n.prototype.updateTooltip=function(){var t,e,r=this;null===(e=null===(t=this.tooltipRef)||void 0===t?void 0:t.current)||void 0===e||e.update(),setTimeout((function(){return r.updateTooltip()}),200);var i=null;"targetRef"in this.props?i=this.props.targetRef.current:"targetSelector"in this.props&&(i=this.querySelector(this.props.targetSelector)),this.props.onTargetClick&&i!==this.state.targetElement&&(this.state.targetElement&&this.state.targetElement.removeEventListener("click",this.props.onTargetClick),i&&i.addEventListener("click",this.props.onTargetClick));var n=i&&(function(t){if(t.hidden)return!1;var e=t.getBoundingClientRect();return!(!e.width&&!e.height)&&(e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth))})(i)||!1;this.setState({isTargetVisible:n,targetElement:i})},n.prototype.querySelector=function(t){try{return document.querySelector(t)}catch(t){return null}},n.prototype.render=function(){var t;if(this.props.isPreview)t=this.state.targetElement;else{if(!this.state.targetElement)return null;t=this.state.targetElement}var n=this.props.isOpen&&this.state.isTargetVisible||this.props.isPreview||!1;return n&&this.props.onRender&&this.props.onRender(),i.default.createElement(e.PromptTooltipWrapper,r.__assign({},this.props,{targetElement:t,isOpen:n,ref:this.tooltipRef}))},n})(i.default.Component);e.PromptTooltip=a,e.PromptTooltipWrapper=i.default.forwardRef((function(t,e){var r=i.default.useState((function(t){switch(t){case"top":case"bottom":case"left":case"right":return t;default:return"bottom"}})(t.placement)),o=r[0],a=r[1],l=n.default({"prompt-tooltip":!0,inverse:t.isInverse});return i.default.createElement(s,{className:l+" "+t.className,variant:"rich",open:t.isOpen,triggerRef:i.default.useRef(t.targetElement),placement:t.isPreview?t.placement:o,onChangePlacement:function(t){a(t)},boundary:t.boundaryRef,DEPRECATED_inverse:t.isInverse,isPortaled:!t.unportaled,ref:e,auto:!0},t.children)}));var s=i.default.forwardRef((function(t,e){return i.default.createElement(o.Tooltip.Control,r.__assign({},t,{ref:e}))}));e.PromptTooltipBoundary=i.default.forwardRef((function(t,e){return i.default.createElement("div",{className:"prompt-boundary-container"},i.default.createElement("div",{className:"prompt-boundary",ref:e}))}))}));
//# sourceMappingURL=prompt_tooltip.min.js-vflrw8jDE.map